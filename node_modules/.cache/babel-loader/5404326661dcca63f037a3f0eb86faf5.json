{"ast":null,"code":"import _objectSpread from \"/Users/yzf/Desktop/github/pc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/yzf/Desktop/github/pc/src/utils/utils.js\";\nimport React from 'react';\nimport moment from 'moment';\nimport nzh from 'nzh/cn';\nimport { parse, stringify } from 'qs';\nimport list from '@/mock/json';\n\nconst fs = require('fs');\n\nconsole.log(fs, 'fsfsfs');\nexport function getDataSource(d) {\n  console.log(list);\n  return JSON.parse(window.localStorage.getItem(d));\n}\nexport function addDataSource(d, obj) {\n  let data = [];\n  let array = [];\n  data = JSON.parse(window.localStorage.getItem(d));\n  console.log(data, obj, '1');\n  console.log(data, obj, array, '2', JSON.stringify(data));\n\n  if (stringify(data) === '') {\n    let objects = _objectSpread({}, obj, {\n      key: 0\n    });\n\n    array.unshift(objects);\n    console.log(array, 'if ', JSON.stringify(array));\n    window.localStorage.setItem(d, JSON.stringify(array));\n  } else {\n    let objects = _objectSpread({}, obj, {\n      key: data.length\n    });\n\n    data.unshift(objects);\n    window.localStorage.setItem(d, JSON.stringify(data));\n  }\n\n  console.log(data, '3', array);\n}\nexport function delData(d, i) {\n  let data = JSON.parse(window.localStorage.getItem(d));\n  data.splice(i, 1);\n  console.log(data, 'data', i);\n  let array = [];\n  data.map((v, i) => {\n    array.push(_objectSpread({}, v, {\n      key: i\n    }));\n    return null;\n  });\n  console.log(array, 'array');\n  window.localStorage.setItem(d, JSON.stringify(array));\n}\nexport function editData(d, obj) {\n  let data = JSON.parse(window.localStorage.getItem(d)); // data.splice(obj.key, 1, obj)\n\n  data.map(v => {\n    if (v.key === obj.key) {\n      v.name = obj.name;\n      v.age = obj.age;\n      v.address = obj.address;\n    }\n\n    return null;\n  });\n  window.localStorage.setItem(d, JSON.stringify(data));\n  console.log(data, obj.key, obj);\n}\nexport function fixedZero(val) {\n  return val * 1 < 10 ? \"0\".concat(val) : val;\n}\nexport function getTimeDistance(type) {\n  const now = new Date();\n  const oneDay = 1000 * 60 * 60 * 24;\n\n  if (type === 'today') {\n    now.setHours(0);\n    now.setMinutes(0);\n    now.setSeconds(0);\n    return [moment(now), moment(now.getTime() + (oneDay - 1000))];\n  }\n\n  if (type === 'week') {\n    let day = now.getDay();\n    now.setHours(0);\n    now.setMinutes(0);\n    now.setSeconds(0);\n\n    if (day === 0) {\n      day = 6;\n    } else {\n      day -= 1;\n    }\n\n    const beginTime = now.getTime() - day * oneDay;\n    return [moment(beginTime), moment(beginTime + (7 * oneDay - 1000))];\n  }\n\n  if (type === 'month') {\n    const year = now.getFullYear();\n    const month = now.getMonth();\n    const nextDate = moment(now).add(1, 'months');\n    const nextYear = nextDate.year();\n    const nextMonth = nextDate.month();\n    return [moment(\"\".concat(year, \"-\").concat(fixedZero(month + 1), \"-01 00:00:00\")), moment(moment(\"\".concat(nextYear, \"-\").concat(fixedZero(nextMonth + 1), \"-01 00:00:00\")).valueOf() - 1000)];\n  }\n\n  if (type === 'year') {\n    const year = now.getFullYear();\n    return [moment(\"\".concat(year, \"-01-01 00:00:00\")), moment(\"\".concat(year, \"-12-31 23:59:59\"))];\n  }\n}\nexport function getPlainNode(nodeList, parentPath = '') {\n  const arr = [];\n  nodeList.forEach(node => {\n    const item = node;\n    item.path = \"\".concat(parentPath, \"/\").concat(item.path || '').replace(/\\/+/g, '/');\n    item.exact = true;\n\n    if (item.children && !item.component) {\n      arr.push(...getPlainNode(item.children, item.path));\n    } else {\n      if (item.children && item.component) {\n        item.exact = false;\n      }\n\n      arr.push(item);\n    }\n  });\n  return arr;\n}\nexport function digitUppercase(n) {\n  return nzh.toMoney(n);\n}\n\nfunction getRelation(str1, str2) {\n  if (str1 === str2) {\n    console.warn('Two path are equal!'); // eslint-disable-line\n  }\n\n  const arr1 = str1.split('/');\n  const arr2 = str2.split('/');\n\n  if (arr2.every((item, index) => item === arr1[index])) {\n    return 1;\n  } else if (arr1.every((item, index) => item === arr2[index])) {\n    return 2;\n  }\n\n  return 3;\n}\n\nfunction getRenderArr(routes) {\n  let renderArr = [];\n  renderArr.push(routes[0]);\n\n  for (let i = 1; i < routes.length; i += 1) {\n    // 去重\n    renderArr = renderArr.filter(item => getRelation(item, routes[i]) !== 1); // 是否包含\n\n    const isAdd = renderArr.every(item => getRelation(item, routes[i]) === 3);\n\n    if (isAdd) {\n      renderArr.push(routes[i]);\n    }\n  }\n\n  return renderArr;\n}\n\nexport function getRoutes(path, routerData) {\n  let routes = Object.keys(routerData).filter(routePath => routePath.indexOf(path) === 0 && routePath !== path);\n  routes = routes.map(item => item.replace(path, ''));\n  const renderArr = getRenderArr(routes);\n  const renderRoutes = renderArr.map(item => {\n    const exact = !routes.some(route => route !== item && getRelation(route, item) === 1);\n    return _objectSpread({\n      exact\n    }, routerData[\"\".concat(path).concat(item)], {\n      key: \"\".concat(path).concat(item),\n      path: \"\".concat(path).concat(item)\n    });\n  });\n  return renderRoutes;\n}\nexport function getPageQuery() {\n  return parse(window.location.href.split('?')[1]);\n}\nexport function getQueryPath(path = '', query = {}) {\n  const search = stringify(query);\n\n  if (search.length) {\n    return \"\".concat(path, \"?\").concat(search);\n  }\n\n  return path;\n}\n/* eslint no-useless-escape:0 */\n\nconst reg = /(((^https?:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+(?::\\d+)?|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)$/;\nexport function isUrl(path) {\n  return reg.test(path);\n} // /userInfo/2144/id => ['/userInfo','/userInfo/2144,'/userIndo/2144/id']\n\nexport function urlToList(url) {\n  const urllist = url.split('/').filter(i => i);\n  return urllist.map((urlItem, index) => {\n    return \"/\".concat(urllist.slice(0, index + 1).join('/'));\n  });\n}\nexport function formatWan(val) {\n  const v = val * 1;\n  if (!v || Number.isNaN(v)) return '';\n  let result = val;\n\n  if (val > 10000) {\n    result = Math.floor(val / 10000);\n    result = React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, result, React.createElement(\"span\", {\n      style: {\n        position: 'absolute',\n        bottom: -2,\n        fontSize: 14,\n        fontStyle: 'normal',\n        marginLeft: 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"\\u4E07\"));\n  }\n\n  return result;\n}","map":{"version":3,"sources":["/Users/yzf/Desktop/github/pc/src/utils/utils.js"],"names":["React","moment","nzh","parse","stringify","list","fs","require","console","log","getDataSource","d","JSON","window","localStorage","getItem","addDataSource","obj","data","array","objects","key","unshift","setItem","length","delData","i","splice","map","v","push","editData","name","age","address","fixedZero","val","getTimeDistance","type","now","Date","oneDay","setHours","setMinutes","setSeconds","getTime","day","getDay","beginTime","year","getFullYear","month","getMonth","nextDate","add","nextYear","nextMonth","valueOf","getPlainNode","nodeList","parentPath","arr","forEach","node","item","path","replace","exact","children","component","digitUppercase","n","toMoney","getRelation","str1","str2","warn","arr1","split","arr2","every","index","getRenderArr","routes","renderArr","filter","isAdd","getRoutes","routerData","Object","keys","routePath","indexOf","renderRoutes","some","route","getPageQuery","location","href","getQueryPath","query","search","reg","isUrl","test","urlToList","url","urllist","urlItem","slice","join","formatWan","Number","isNaN","result","Math","floor","position","bottom","fontSize","fontStyle","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment'\nimport nzh from 'nzh/cn'\nimport { parse, stringify } from 'qs'\nimport list from '@/mock/json'\nconst fs = require('fs');\nconsole.log(fs, 'fsfsfs')\nexport function getDataSource(d) {\n  console.log(list)\n  return JSON.parse(window.localStorage.getItem(d))\n}\n\nexport function addDataSource(d, obj) {\n  let data = []\n  let array = []\n  data = JSON.parse(window.localStorage.getItem(d))\n  console.log(data, obj, '1')\n  console.log(data, obj, array, '2', JSON.stringify(data))\n  if (stringify(data) === '') {\n    let objects = {\n      ...obj,\n      key: 0\n    }\n    array.unshift(objects)\n    console.log(array, 'if ', JSON.stringify(array))\n    window.localStorage.setItem(d, JSON.stringify(array))\n  } else {\n    let objects = {\n      ...obj,\n      key: data.length\n    }\n    data.unshift(objects)\n    window.localStorage.setItem(d, JSON.stringify(data))\n  }\n  console.log(data, '3', array)\n}\nexport function delData(d, i) {\n  let data = JSON.parse(window.localStorage.getItem(d))\n  data.splice(i, 1)\n  console.log(data, 'data', i);\n  let array = [];\n  data.map((v, i) => {\n    array.push({\n      ...v,\n      key: i\n    })\n    return null\n  })\n  console.log(array, 'array')\n  window.localStorage.setItem(d, JSON.stringify(array))\n}\n\nexport function editData(d, obj) {\n  let data = JSON.parse(window.localStorage.getItem(d))\n  // data.splice(obj.key, 1, obj)\n  data.map(v => {\n    if (v.key === obj.key) {\n      v.name = obj.name\n      v.age = obj.age\n      v.address = obj.address\n    }\n    return null\n  })\n  window.localStorage.setItem(d, JSON.stringify(data))\n  console.log(data, obj.key, obj)\n}\n\n\n\nexport function fixedZero (val) {\n  return val * 1 < 10 ? `0${val}` : val\n}\n\nexport function getTimeDistance (type) {\n  const now = new Date()\n  const oneDay = 1000 * 60 * 60 * 24\n\n  if (type === 'today') {\n    now.setHours(0)\n    now.setMinutes(0)\n    now.setSeconds(0)\n    return [moment(now), moment(now.getTime() + (oneDay - 1000))]\n  }\n\n  if (type === 'week') {\n    let day = now.getDay()\n    now.setHours(0)\n    now.setMinutes(0)\n    now.setSeconds(0)\n\n    if (day === 0) {\n      day = 6\n    } else {\n      day -= 1\n    }\n\n    const beginTime = now.getTime() - day * oneDay\n\n    return [moment(beginTime), moment(beginTime + (7 * oneDay - 1000))]\n  }\n\n  if (type === 'month') {\n    const year = now.getFullYear()\n    const month = now.getMonth()\n    const nextDate = moment(now).add(1, 'months')\n    const nextYear = nextDate.year()\n    const nextMonth = nextDate.month()\n\n    return [\n      moment(`${year}-${fixedZero(month + 1)}-01 00:00:00`),\n      moment(moment(`${nextYear}-${fixedZero(nextMonth + 1)}-01 00:00:00`)\n        .valueOf() - 1000),\n    ]\n  }\n\n  if (type === 'year') {\n    const year = now.getFullYear()\n\n    return [moment(`${year}-01-01 00:00:00`), moment(`${year}-12-31 23:59:59`)]\n  }\n}\n\nexport function getPlainNode (nodeList, parentPath = '') {\n  const arr = []\n  nodeList.forEach(node => {\n    const item = node\n    item.path = `${parentPath}/${item.path || ''}`.replace(/\\/+/g, '/')\n    item.exact = true\n    if (item.children && !item.component) {\n      arr.push(...getPlainNode(item.children, item.path))\n    } else {\n      if (item.children && item.component) {\n        item.exact = false\n      }\n      arr.push(item)\n    }\n  })\n  return arr\n}\n\nexport function digitUppercase (n) {\n  return nzh.toMoney(n)\n}\n\nfunction getRelation (str1, str2) {\n  if (str1 === str2) {\n    console.warn('Two path are equal!') // eslint-disable-line\n  }\n  const arr1 = str1.split('/')\n  const arr2 = str2.split('/')\n  if (arr2.every((item, index) => item === arr1[index])) {\n    return 1\n  } else if (arr1.every((item, index) => item === arr2[index])) {\n    return 2\n  }\n  return 3\n}\n\nfunction getRenderArr (routes) {\n  let renderArr = []\n  renderArr.push(routes[0])\n  for (let i = 1; i < routes.length; i += 1) {\n    // 去重\n    renderArr = renderArr.filter(item => getRelation(item, routes[i]) !== 1)\n    // 是否包含\n    const isAdd = renderArr.every(item => getRelation(item, routes[i]) === 3)\n    if (isAdd) {\n      renderArr.push(routes[i])\n    }\n  }\n  return renderArr\n}\n\nexport function getRoutes (path, routerData) {\n  let routes = Object.keys(routerData).filter(\n    routePath => routePath.indexOf(path) === 0 && routePath !== path,\n  )\n  routes = routes.map(item => item.replace(path, ''))\n\n  const renderArr = getRenderArr(routes)\n  const renderRoutes = renderArr.map(item => {\n    const exact = !routes.some(\n      route => route !== item && getRelation(route, item) === 1)\n    return {\n      exact,\n      ...routerData[`${path}${item}`],\n      key: `${path}${item}`,\n      path: `${path}${item}`,\n    }\n  })\n  return renderRoutes\n}\n\nexport function getPageQuery () {\n  return parse(window.location.href.split('?')[1])\n}\n\nexport function getQueryPath (path = '', query = {}) {\n  const search = stringify(query)\n  if (search.length) {\n    return `${path}?${search}`\n  }\n  return path\n}\n\n/* eslint no-useless-escape:0 */\nconst reg = /(((^https?:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+(?::\\d+)?|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)$/\n\nexport function isUrl (path) {\n  return reg.test(path)\n}\n\n// /userInfo/2144/id => ['/userInfo','/userInfo/2144,'/userIndo/2144/id']\nexport function urlToList (url) {\n  const urllist = url.split('/').filter(i => i)\n  return urllist.map((urlItem, index) => {\n    return `/${urllist.slice(0, index + 1).join('/')}`\n  })\n}\n\nexport function formatWan(val) {\n  const v = val * 1;\n  if (!v || Number.isNaN(v)) return '';\n\n  let result = val;\n  if (val > 10000) {\n    result = Math.floor(val / 10000);\n    result = (\n      <span>\n        {result}\n        <span\n          style={{\n            position: 'absolute',\n            bottom: -2,\n            fontSize: 14,\n            fontStyle: 'normal',\n            marginLeft: 2,\n          }}\n        >\n          万\n        </span>\n      </span>\n    );\n  }\n  return result;\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}