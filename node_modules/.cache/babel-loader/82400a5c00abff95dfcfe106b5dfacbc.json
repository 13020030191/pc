{"ast":null,"code":"import _objectSpread from \"/Users/yzf/Desktop/github/pc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport \"antd/es/spin/style/css\";\nimport _Spin from \"antd/es/spin\";\nimport \"ant-design-pro/lib/Exception/style\";\nimport _Exception from \"ant-design-pro/lib/Exception\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nvar _jsxFileName = \"/Users/yzf/Desktop/github/pc/src/components/AsyncComponent/index.js\";\nimport React from 'react';\nimport Loadable from 'react-loadable';\n\nconst actions = props => React.createElement(_Button, {\n  type: \"primary\",\n  onClick: props.retry,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7\n  },\n  __self: this\n}, \"\\u91CD\\u65B0\\u52A0\\u8F7D\");\n\nconst ErrorComponent = props => React.createElement(_Exception, {\n  title: \"504\",\n  desc: \"\\u4F3C\\u4E4E\\u51FA\\u4E86\\u70B9\\u95EE\\u9898\",\n  backText: \"\\u91CD\\u65B0\\u52A0\\u8F7D\",\n  actions: actions(props),\n  style: {\n    minHeight: 500,\n    height: '80%'\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n});\n\nconst LoadingComponent = React.createElement(\"div\", {\n  style: {\n    textAlign: 'center',\n    marginTop: 100\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21\n  },\n  __self: this\n}, React.createElement(_Spin, {\n  size: \"large\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22\n  },\n  __self: this\n}));\n\nconst Loading = props => {\n  if (props.error || props.timedOut) {\n    return React.createElement(ErrorComponent, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }));\n  } else {\n    return LoadingComponent;\n  }\n};\n\nconst DefaultProps = {\n  loading: Loading,\n  timeout: 20000,\n  // 20 seconds\n  delay: 300 // 0.3 seconds\n\n  /**\n   * 异步加载页面\n   * @param component\n   * @param callback\n   * @returns {*}\n   */\n\n};\nexport function asyncComponent(component, callback) {\n  return Loadable(_objectSpread({}, DefaultProps, {\n    loader: component,\n\n    render(loaded, props) {\n      callback && callback();\n      let Component = loaded.default;\n      return React.createElement(Component, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }));\n    }\n\n  }));\n}\n/**\n * 异步加载页面 同时 添加其他文件\n * @param component\n * @param models\n * @returns {*}\n */\n\nexport function asyncComponentWithModels(component, models) {\n  let name = 'componentName';\n  return Loadable.Map(_objectSpread({}, DefaultProps, {\n    loader: _objectSpread({\n      [name]: component\n    }, models),\n\n    render(loaded, props) {\n      let Component = loaded[name].default;\n      return React.createElement(Component, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }));\n    }\n\n  }));\n}","map":{"version":3,"sources":["/Users/yzf/Desktop/github/pc/src/components/AsyncComponent/index.js"],"names":["React","Loadable","actions","props","retry","ErrorComponent","minHeight","height","LoadingComponent","textAlign","marginTop","Loading","error","timedOut","DefaultProps","loading","timeout","delay","asyncComponent","component","callback","loader","render","loaded","Component","default","asyncComponentWithModels","models","name","Map"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;;AAIA,MAAMC,OAAO,GAAIC,KAAD,IACd;AAAQ,EAAA,IAAI,EAAC,SAAb;AAAuB,EAAA,OAAO,EAAEA,KAAK,CAACC,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF;;AAIA,MAAMC,cAAc,GAAIF,KAAD,IACrB;AACE,EAAA,KAAK,EAAC,KADR;AAEE,EAAA,IAAI,EAAC,4CAFP;AAGE,EAAA,QAAQ,EAAC,0BAHX;AAIE,EAAA,OAAO,EAAED,OAAO,CAACC,KAAD,CAJlB;AAKE,EAAA,KAAK,EAAE;AAAEG,IAAAA,SAAS,EAAE,GAAb;AAAkBC,IAAAA,MAAM,EAAE;AAA1B,GALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADF;;AAUA,MAAMC,gBAAgB,GACpB;AAAK,EAAA,KAAK,EAAE;AAAEC,IAAAA,SAAS,EAAE,QAAb;AAAuBC,IAAAA,SAAS,EAAE;AAAlC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAM,EAAA,IAAI,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADF,CADF;;AAMA,MAAMC,OAAO,GAAIR,KAAD,IAAW;AACzB,MAAIA,KAAK,CAACS,KAAN,IAAeT,KAAK,CAACU,QAAzB,EAAmC;AACjC,WAAO,oBAAC,cAAD,oBAAoBV,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;AACD,GAFD,MAEO;AACL,WAAOK,gBAAP;AACD;AACF,CAND;;AAQA,MAAMM,YAAY,GAAG;AACnBC,EAAAA,OAAO,EAAEJ,OADU;AAEnBK,EAAAA,OAAO,EAAE,KAFU;AAEH;AAChBC,EAAAA,KAAK,EAAE,GAHY,CAGR;;AAGb;;;;;;;AANqB,CAArB;AAYA,OAAO,SAASC,cAAT,CAAyBC,SAAzB,EAAoCC,QAApC,EAA8C;AACnD,SAAOnB,QAAQ,mBACVa,YADU;AAEbO,IAAAA,MAAM,EAAEF,SAFK;;AAIbG,IAAAA,MAAM,CAAEC,MAAF,EAAUpB,KAAV,EAAiB;AACrBiB,MAAAA,QAAQ,IAAIA,QAAQ,EAApB;AACA,UAAII,SAAS,GAAGD,MAAM,CAACE,OAAvB;AACA,aAAO,oBAAC,SAAD,oBAAetB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;AARY,KAAf;AAUD;AAED;;;;;;;AAMA,OAAO,SAASuB,wBAAT,CAAmCP,SAAnC,EAA8CQ,MAA9C,EAAsD;AAC3D,MAAIC,IAAI,GAAG,eAAX;AACA,SAAO3B,QAAQ,CAAC4B,GAAT,mBACFf,YADE;AAELO,IAAAA,MAAM;AACJ,OAACO,IAAD,GAAQT;AADJ,OAEDQ,MAFC,CAFD;;AAMLL,IAAAA,MAAM,CAAEC,MAAF,EAAUpB,KAAV,EAAiB;AACrB,UAAIqB,SAAS,GAAGD,MAAM,CAACK,IAAD,CAAN,CAAaH,OAA7B;AACA,aAAO,oBAAC,SAAD,oBAAetB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;AATI,KAAP;AAWD","sourcesContent":["import React from 'react'\nimport Loadable from 'react-loadable'\nimport { Button, Spin } from 'antd'\nimport { Exception } from 'ant-design-pro'\n\nconst actions = (props) => (\n  <Button type=\"primary\" onClick={props.retry}>重新加载</Button>\n)\n\nconst ErrorComponent = (props) => (\n  <Exception\n    title='504'\n    desc='似乎出了点问题'\n    backText='重新加载'\n    actions={actions(props)}\n    style={{ minHeight: 500, height: '80%' }}\n  />\n)\n\nconst LoadingComponent = (\n  <div style={{ textAlign: 'center', marginTop: 100 }}>\n    <Spin size='large'/>\n  </div>\n)\n\nconst Loading = (props) => {\n  if (props.error || props.timedOut) {\n    return <ErrorComponent {...props}/>\n  } else {\n    return LoadingComponent\n  }\n}\n\nconst DefaultProps = {\n  loading: Loading,\n  timeout: 20000, // 20 seconds\n  delay: 300 // 0.3 seconds\n}\n\n/**\n * 异步加载页面\n * @param component\n * @param callback\n * @returns {*}\n */\nexport function asyncComponent (component, callback) {\n  return Loadable({\n    ...DefaultProps,\n    loader: component,\n\n    render (loaded, props) {\n      callback && callback()\n      let Component = loaded.default\n      return <Component {...props}/>\n    }\n  })\n}\n\n/**\n * 异步加载页面 同时 添加其他文件\n * @param component\n * @param models\n * @returns {*}\n */\nexport function asyncComponentWithModels (component, models) {\n  let name = 'componentName'\n  return Loadable.Map({\n    ...DefaultProps,\n    loader: {\n      [name]: component,\n      ...models\n    },\n    render (loaded, props) {\n      let Component = loaded[name].default\n      return <Component {...props}/>\n    }\n  })\n}\n"]},"metadata":{},"sourceType":"module"}