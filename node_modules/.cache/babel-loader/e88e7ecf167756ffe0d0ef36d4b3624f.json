{"ast":null,"code":"import _objectSpread from \"/Users/yzf/Desktop/antd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/yzf/Desktop/antd/src/utils/utils.js\";\nimport React from 'react';\nimport moment from 'moment';\nimport nzh from 'nzh/cn';\nimport { parse, stringify } from 'qs';\nexport function fixedZero(val) {\n  return val * 1 < 10 ? \"0\".concat(val) : val;\n}\nexport function getTimeDistance(type) {\n  const now = new Date();\n  const oneDay = 1000 * 60 * 60 * 24;\n\n  if (type === 'today') {\n    now.setHours(0);\n    now.setMinutes(0);\n    now.setSeconds(0);\n    return [moment(now), moment(now.getTime() + (oneDay - 1000))];\n  }\n\n  if (type === 'week') {\n    let day = now.getDay();\n    now.setHours(0);\n    now.setMinutes(0);\n    now.setSeconds(0);\n\n    if (day === 0) {\n      day = 6;\n    } else {\n      day -= 1;\n    }\n\n    const beginTime = now.getTime() - day * oneDay;\n    return [moment(beginTime), moment(beginTime + (7 * oneDay - 1000))];\n  }\n\n  if (type === 'month') {\n    const year = now.getFullYear();\n    const month = now.getMonth();\n    const nextDate = moment(now).add(1, 'months');\n    const nextYear = nextDate.year();\n    const nextMonth = nextDate.month();\n    return [moment(\"\".concat(year, \"-\").concat(fixedZero(month + 1), \"-01 00:00:00\")), moment(moment(\"\".concat(nextYear, \"-\").concat(fixedZero(nextMonth + 1), \"-01 00:00:00\")).valueOf() - 1000)];\n  }\n\n  if (type === 'year') {\n    const year = now.getFullYear();\n    return [moment(\"\".concat(year, \"-01-01 00:00:00\")), moment(\"\".concat(year, \"-12-31 23:59:59\"))];\n  }\n}\nexport function getPlainNode(nodeList, parentPath = '') {\n  const arr = [];\n  nodeList.forEach(node => {\n    const item = node;\n    item.path = \"\".concat(parentPath, \"/\").concat(item.path || '').replace(/\\/+/g, '/');\n    item.exact = true;\n\n    if (item.children && !item.component) {\n      arr.push(...getPlainNode(item.children, item.path));\n    } else {\n      if (item.children && item.component) {\n        item.exact = false;\n      }\n\n      arr.push(item);\n    }\n  });\n  return arr;\n}\nexport function digitUppercase(n) {\n  return nzh.toMoney(n);\n}\n\nfunction getRelation(str1, str2) {\n  if (str1 === str2) {\n    console.warn('Two path are equal!'); // eslint-disable-line\n  }\n\n  const arr1 = str1.split('/');\n  const arr2 = str2.split('/');\n\n  if (arr2.every((item, index) => item === arr1[index])) {\n    return 1;\n  } else if (arr1.every((item, index) => item === arr2[index])) {\n    return 2;\n  }\n\n  return 3;\n}\n\nfunction getRenderArr(routes) {\n  let renderArr = [];\n  renderArr.push(routes[0]);\n\n  for (let i = 1; i < routes.length; i += 1) {\n    // 去重\n    renderArr = renderArr.filter(item => getRelation(item, routes[i]) !== 1); // 是否包含\n\n    const isAdd = renderArr.every(item => getRelation(item, routes[i]) === 3);\n\n    if (isAdd) {\n      renderArr.push(routes[i]);\n    }\n  }\n\n  return renderArr;\n}\n\nexport function getRoutes(path, routerData) {\n  let routes = Object.keys(routerData).filter(routePath => routePath.indexOf(path) === 0 && routePath !== path);\n  routes = routes.map(item => item.replace(path, ''));\n  const renderArr = getRenderArr(routes);\n  const renderRoutes = renderArr.map(item => {\n    const exact = !routes.some(route => route !== item && getRelation(route, item) === 1);\n    return _objectSpread({\n      exact\n    }, routerData[\"\".concat(path).concat(item)], {\n      key: \"\".concat(path).concat(item),\n      path: \"\".concat(path).concat(item)\n    });\n  });\n  return renderRoutes;\n}\nexport function getPageQuery() {\n  return parse(window.location.href.split('?')[1]);\n}\nexport function getQueryPath(path = '', query = {}) {\n  const search = stringify(query);\n\n  if (search.length) {\n    return \"\".concat(path, \"?\").concat(search);\n  }\n\n  return path;\n}\n/* eslint no-useless-escape:0 */\n\nconst reg = /(((^https?:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+(?::\\d+)?|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)$/;\nexport function isUrl(path) {\n  return reg.test(path);\n} // /userInfo/2144/id => ['/userInfo','/userInfo/2144,'/userIndo/2144/id']\n\nexport function urlToList(url) {\n  const urllist = url.split('/').filter(i => i);\n  return urllist.map((urlItem, index) => {\n    return \"/\".concat(urllist.slice(0, index + 1).join('/'));\n  });\n}\nexport function formatWan(val) {\n  const v = val * 1;\n  if (!v || Number.isNaN(v)) return '';\n  let result = val;\n\n  if (val > 10000) {\n    result = Math.floor(val / 10000);\n    result = React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, result, React.createElement(\"span\", {\n      style: {\n        position: 'absolute',\n        bottom: -2,\n        fontSize: 14,\n        fontStyle: 'normal',\n        marginLeft: 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"\\u4E07\"));\n  }\n\n  return result;\n}\nexport function getDataSource(d) {\n  return JSON.parse(window.localStorage.getItem(d));\n}\nexport function addDataSource(d, obj) {\n  let data = [];\n  let array = [];\n  data = JSON.parse(window.localStorage.getItem(d));\n  console.log(data, obj, '1');\n  console.log(data, obj, array, '2', JSON.stringify(data));\n\n  if (stringify(data) === '') {\n    let objects = _objectSpread({}, obj, {\n      key: 0\n    });\n\n    array.unshift(objects);\n    console.log(array, 'if ', JSON.stringify(array));\n    window.localStorage.setItem(d, JSON.stringify(array));\n  } else {\n    let objects = _objectSpread({}, obj, {\n      key: data.length + 1\n    });\n  }\n\n  console.log(data, '3', array); // console.log(data[0], 'data', parse(window.localStorage.getItem(d)).length)\n  // data[0].key= data.length + 1\n  // console.log(data)\n  // return parse(window.localStorage.getItem(d))\n}","map":{"version":3,"sources":["/Users/yzf/Desktop/antd/src/utils/utils.js"],"names":["React","moment","nzh","parse","stringify","fixedZero","val","getTimeDistance","type","now","Date","oneDay","setHours","setMinutes","setSeconds","getTime","day","getDay","beginTime","year","getFullYear","month","getMonth","nextDate","add","nextYear","nextMonth","valueOf","getPlainNode","nodeList","parentPath","arr","forEach","node","item","path","replace","exact","children","component","push","digitUppercase","n","toMoney","getRelation","str1","str2","console","warn","arr1","split","arr2","every","index","getRenderArr","routes","renderArr","i","length","filter","isAdd","getRoutes","routerData","Object","keys","routePath","indexOf","map","renderRoutes","some","route","key","getPageQuery","window","location","href","getQueryPath","query","search","reg","isUrl","test","urlToList","url","urllist","urlItem","slice","join","formatWan","v","Number","isNaN","result","Math","floor","position","bottom","fontSize","fontStyle","marginLeft","getDataSource","d","JSON","localStorage","getItem","addDataSource","obj","data","array","log","objects","unshift","setItem"],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment'\nimport nzh from 'nzh/cn'\nimport { parse, stringify } from 'qs'\n\nexport function fixedZero (val) {\n  return val * 1 < 10 ? `0${val}` : val\n}\n\nexport function getTimeDistance (type) {\n  const now = new Date()\n  const oneDay = 1000 * 60 * 60 * 24\n\n  if (type === 'today') {\n    now.setHours(0)\n    now.setMinutes(0)\n    now.setSeconds(0)\n    return [moment(now), moment(now.getTime() + (oneDay - 1000))]\n  }\n\n  if (type === 'week') {\n    let day = now.getDay()\n    now.setHours(0)\n    now.setMinutes(0)\n    now.setSeconds(0)\n\n    if (day === 0) {\n      day = 6\n    } else {\n      day -= 1\n    }\n\n    const beginTime = now.getTime() - day * oneDay\n\n    return [moment(beginTime), moment(beginTime + (7 * oneDay - 1000))]\n  }\n\n  if (type === 'month') {\n    const year = now.getFullYear()\n    const month = now.getMonth()\n    const nextDate = moment(now).add(1, 'months')\n    const nextYear = nextDate.year()\n    const nextMonth = nextDate.month()\n\n    return [\n      moment(`${year}-${fixedZero(month + 1)}-01 00:00:00`),\n      moment(moment(`${nextYear}-${fixedZero(nextMonth + 1)}-01 00:00:00`)\n        .valueOf() - 1000),\n    ]\n  }\n\n  if (type === 'year') {\n    const year = now.getFullYear()\n\n    return [moment(`${year}-01-01 00:00:00`), moment(`${year}-12-31 23:59:59`)]\n  }\n}\n\nexport function getPlainNode (nodeList, parentPath = '') {\n  const arr = []\n  nodeList.forEach(node => {\n    const item = node\n    item.path = `${parentPath}/${item.path || ''}`.replace(/\\/+/g, '/')\n    item.exact = true\n    if (item.children && !item.component) {\n      arr.push(...getPlainNode(item.children, item.path))\n    } else {\n      if (item.children && item.component) {\n        item.exact = false\n      }\n      arr.push(item)\n    }\n  })\n  return arr\n}\n\nexport function digitUppercase (n) {\n  return nzh.toMoney(n)\n}\n\nfunction getRelation (str1, str2) {\n  if (str1 === str2) {\n    console.warn('Two path are equal!') // eslint-disable-line\n  }\n  const arr1 = str1.split('/')\n  const arr2 = str2.split('/')\n  if (arr2.every((item, index) => item === arr1[index])) {\n    return 1\n  } else if (arr1.every((item, index) => item === arr2[index])) {\n    return 2\n  }\n  return 3\n}\n\nfunction getRenderArr (routes) {\n  let renderArr = []\n  renderArr.push(routes[0])\n  for (let i = 1; i < routes.length; i += 1) {\n    // 去重\n    renderArr = renderArr.filter(item => getRelation(item, routes[i]) !== 1)\n    // 是否包含\n    const isAdd = renderArr.every(item => getRelation(item, routes[i]) === 3)\n    if (isAdd) {\n      renderArr.push(routes[i])\n    }\n  }\n  return renderArr\n}\n\nexport function getRoutes (path, routerData) {\n  let routes = Object.keys(routerData).filter(\n    routePath => routePath.indexOf(path) === 0 && routePath !== path,\n  )\n  routes = routes.map(item => item.replace(path, ''))\n\n  const renderArr = getRenderArr(routes)\n  const renderRoutes = renderArr.map(item => {\n    const exact = !routes.some(\n      route => route !== item && getRelation(route, item) === 1)\n    return {\n      exact,\n      ...routerData[`${path}${item}`],\n      key: `${path}${item}`,\n      path: `${path}${item}`,\n    }\n  })\n  return renderRoutes\n}\n\nexport function getPageQuery () {\n  return parse(window.location.href.split('?')[1])\n}\n\nexport function getQueryPath (path = '', query = {}) {\n  const search = stringify(query)\n  if (search.length) {\n    return `${path}?${search}`\n  }\n  return path\n}\n\n/* eslint no-useless-escape:0 */\nconst reg = /(((^https?:(?:\\/\\/)?)(?:[-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9.-]+(?::\\d+)?|(?:www.|[-;:&=\\+\\$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[\\+~%\\/.\\w-_]*)?\\??(?:[-\\+=&;%@.\\w_]*)#?(?:[\\w]*))?)$/\n\nexport function isUrl (path) {\n  return reg.test(path)\n}\n\n// /userInfo/2144/id => ['/userInfo','/userInfo/2144,'/userIndo/2144/id']\nexport function urlToList (url) {\n  const urllist = url.split('/').filter(i => i)\n  return urllist.map((urlItem, index) => {\n    return `/${urllist.slice(0, index + 1).join('/')}`\n  })\n}\n\nexport function formatWan(val) {\n  const v = val * 1;\n  if (!v || Number.isNaN(v)) return '';\n\n  let result = val;\n  if (val > 10000) {\n    result = Math.floor(val / 10000);\n    result = (\n      <span>\n        {result}\n        <span\n          style={{\n            position: 'absolute',\n            bottom: -2,\n            fontSize: 14,\n            fontStyle: 'normal',\n            marginLeft: 2,\n          }}\n        >\n          万\n        </span>\n      </span>\n    );\n  }\n  return result;\n}\n\nexport function getDataSource(d) {\n  return JSON.parse(window.localStorage.getItem(d))\n}\n\nexport function addDataSource(d, obj) {\n  let data = []\n  let array = []\n  data = JSON.parse(window.localStorage.getItem(d))\n  console.log(data, obj, '1')\n  console.log(data, obj, array, '2', JSON.stringify(data))\n  if (stringify(data) === '') {\n    let objects = {\n      ...obj,\n      key: 0\n    }\n    array.unshift(objects)\n    console.log(array, 'if ', JSON.stringify(array))\n    window.localStorage.setItem(d, JSON.stringify(array))\n  } else {\n    let objects = {\n      ...obj,\n      key: data.length+1\n    }\n  }\n  console.log(data, '3', array)\n\n  // console.log(data[0], 'data', parse(window.localStorage.getItem(d)).length)\n  // data[0].key= data.length + 1\n  // console.log(data)\n  // return parse(window.localStorage.getItem(d))\n \n}\n\n\n"]},"metadata":{},"sourceType":"module"}